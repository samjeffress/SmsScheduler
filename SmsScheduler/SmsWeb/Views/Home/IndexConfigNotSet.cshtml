@{
    ViewBag.Title = "SMS Coordinator : Almost There!";
    Layout = "~/Views/Shared/_BootstrapLayout.basic.cshtml";
}

@Scripts.Render("~/Scripts/jquery.unobtrusive-ajax.min.js")
@Scripts.Render("~/Scripts/jquery.1.8.3.min.js")

<script type="text/javascript">
    function SmsProviderSet() {
        var provider = $("#SmsProvider").val();
        if (provider === "Twilio") {
            $("#TwilioConfigDiv").show();
            $("#NexmoConfigDiv").hide();
        } else if (provider === "Nexmo") {
            $("#NexmoConfigDiv").show();
            $("#TwilioConfigDiv").hide();
        } else {
            $("#NexmoConfigDiv").hide();
            $("#TwilioConfigDiv").hide();
        }
    }
    function EmailProviderSet() {
        var provider = $("#EmailProvider").val();
        if (provider === "Mailgun") {
            $("#MailgunConfigDiv").show();
            $("#MandrillConfigDiv").hide();
        } else if (provider === "Mandrill") {
            $("#MandrillConfigDiv").show();
            $("#MailgunConfigDiv").hide();
        } else {
            $("#MandrillConfigDiv").hide();
            $("#MailgunConfigDiv").hide();
        }
    }

    $().ready(function() {
        SmsProviderSet();
        EmailProviderSet();
    });

</script>

<div class="hero-unit">
    <h1>Send That Message!</h1>
    <p>Need to send loads of text messages? We've got you covered.</p>
    <p>Using our coordinator you can send your messages over a set time so you can manage the work generated by your campaign.</p>
    <p>Create your message schedules through our webpage or the api to hook directly into your app.</p>
    <p>To get started you'll need to setup a <a href="http://www.twilio.com">Twilio</a> and <a href="http://www.mailgun.com">Mailgun</a> account. We use these to deliver your SMS' and confirmation emails.</p>
    @*<p><a class="btn btn-primary btn-large">Learn more &raquo;</a></p>*@
</div>

<div class="row">
    <div class="span6">
        <h4>SMS provider configuration:</h4>
        @Html.Action("EditSMSAjax", "ProviderConfig" )
        <div class="span6" id="TwilioConfigDiv">
            @Html.Action("EditAjax", "TwilioConfig")
        </div>
        <div class="span6" id="NexmoConfigDiv">
            @Html.Action("EditAjax", "NexmoConfig")
        </div>
    </div>
    <div class="span6">        
        <h4>Email provider configuration:</h4>
        @Html.Action("EditEmailAjax", "ProviderConfig")
        <div class="span6" id="MailgunConfigDiv">
            @Html.Action("EditAjax", "MailgunConfig")
        </div>
        <div class="span6" id="MandrillConfigDiv">
            @Html.Action("EditAjax", "MandrillConfig")
        </div>
    </div>
</div>

